<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine ‚ù§Ô∏è</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&family=Poppins:wght@600;800&family=Sacramento&display=swap" rel="stylesheet">

    <style>
        :root {
            /* REFINED PALETTE: Strawberry & Cream */
            --primary: #c9184a;       /* Deep Rose */
            --primary-hover: #a4133c; /* Darker Rose */
            --secondary: #ff8fab;     /* Soft Pink */
            --accent: #ffb3c1;        /* Blush */
            --text: #590d22;          /* Deep Burgundy Text */
            --white-glass: rgba(255, 255, 255, 0.75);
            --shadow: 0 10px 40px rgba(201, 24, 74, 0.15);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #fff0f3 0%, #ffccd5 50%, #ffb3c1 100%);
            background-size: 400% 400%;
            animation: gradientBG 20s ease infinite;
            color: var(--text);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
        }

        h1, h2, h3 {
            font-family: 'Poppins', sans-serif;
            font-weight: 800;
            letter-spacing: -0.5px;
            color: var(--primary);
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- OVERLAY --- */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 240, 243, 0.98); /* Solid soft pink */
            z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.8s ease;
        }
        .overlay-content h1 { font-size: 5rem; margin: 0; animation: heartbeat 1.5s infinite; }
        .overlay-content p { font-size: 1.2rem; margin-top: 15px; color: var(--primary); font-weight: 700; letter-spacing: 1px; text-transform: uppercase; }

        /* --- CONTAINER --- */
        .container { max-width: 600px; width: 90%; padding: 3rem 1.5rem; text-align: center; opacity: 0; transition: opacity 1s ease; }

        /* --- TYPEWRITER --- */
        .typewriter h1 {
            color: var(--primary);
            overflow: hidden; 
            border-right: .1em solid var(--primary); 
            white-space: nowrap; 
            margin: 0 auto; 
            letter-spacing: .02em;
            animation: typing 3.5s steps(30, end), blink-caret .75s step-end infinite;
            display: inline-block;
            max-width: 100%;
            font-size: 2.5rem;
            text-shadow: 0 4px 10px rgba(201, 24, 74, 0.2);
        }

        /* --- HIGH-END GLASS CARDS --- */
        .card-box {
            background: var(--white-glass);
            padding: 2.5rem 2rem;
            border-radius: 24px;
            box-shadow: var(--shadow);
            margin-bottom: 2.5rem;
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease;
        }
        .card-box:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 50px rgba(201, 24, 74, 0.25);
            border-color: #fff;
        }

        /* --- FLIGHT ANIMATION --- */
        .flight-container {
            width: 100%; margin: 30px 0; position: relative; height: 80px;
            display: flex; align-items: center; justify-content: space-between;
        }
        .flight-line {
            position: absolute; top: 50%; left: 50px; right: 50px; height: 4px;
            background: repeating-linear-gradient(to right, var(--secondary) 0, var(--secondary) 8px, transparent 8px, transparent 16px);
            z-index: 0; opacity: 0.7;
        }
        .plane { position: absolute; font-size: 2.5rem; top: 10px; left: 40px; animation: fly 6s linear infinite; z-index: 2; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.1)); }
        @keyframes fly {
            0% { left: 40px; transform: rotate(0deg); }
            50% { transform: translateY(-15px) rotate(5deg); }
            100% { left: calc(100% - 80px); transform: rotate(0deg); }
        }

        /* --- POLAROIDS --- */
        .gallery { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 25px; margin-bottom: 2rem; }
        .polaroid {
            background: white; padding: 12px 12px 45px 12px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            transform: rotate(-3deg); transition: transform 0.4s ease;
            position: relative; cursor: zoom-in; border-radius: 4px;
        }
        .polaroid::before {
            content: ''; position: absolute; top: -15px; left: 35%; width: 30%; height: 35px;
            background-color: rgba(255, 220, 100, 0.6); /* Realistic Washi Tape */
            transform: rotate(-2deg); box-shadow: 0 2px 5px rgba(0,0,0,0.1); backdrop-filter: blur(2px);
        }
        .polaroid:nth-child(even) { transform: rotate(3deg); }
        .polaroid:hover { transform: scale(1.08) rotate(0deg); z-index: 10; box-shadow: 0 15px 30px rgba(0,0,0,0.2); }
        .polaroid img { width: 100%; border-radius: 4px; filter: contrast(1.05) saturate(1.1); }

        /* --- LOVE METER --- */
        .meter-container { width: 100%; background: #ffe5ec; height: 24px; border-radius: 50px; margin-top: 15px; overflow: hidden; position: relative; box-shadow: inset 0 2px 5px rgba(0,0,0,0.05); }
        .meter-fill { height: 100%; width: 0%; background: linear-gradient(90deg, #ff8fab, #c9184a); border-radius: 50px; transition: width 2.5s cubic-bezier(0.25, 1, 0.5, 1); box-shadow: 0 0 10px rgba(201, 24, 74, 0.5); }
        .meter-text { margin-top: 12px; font-weight: 800; color: var(--primary); font-size: 1.1rem; }

        /* --- GIFT BOX --- */
        .gift-box-container {
            position: relative; width: 160px; height: 160px; margin: 0 auto 60px auto;
            cursor: pointer; transition: transform 0.3s;
        }
        .gift-box-container:hover { transform: scale(1.1); }
        .gift-box { font-size: 7rem; animation: shake 2.5s infinite; position: relative; z-index: 2; filter: drop-shadow(0 10px 10px rgba(0,0,0,0.2)); }
        .click-text { font-size: 1.2rem; color: var(--primary); font-weight: 800; animation: pulse 1.5s infinite; margin-top: -10px; font-family: 'Poppins', sans-serif; }

        /* --- VOUCHER --- */
        .voucher-reveal {
            display: none; background: #fff; border: 4px dashed var(--secondary); padding: 30px;
            border-radius: 20px; animation: popOut 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: 0 15px 30px rgba(0,0,0,0.1);
        }
        .ticket-item { margin: 18px 0; font-size: 1.15rem; color: #444; }

        /* --- SECRET LETTER --- */
        .letter-btn {
            position: fixed; bottom: 30px; right: 30px;
            background: linear-gradient(135deg, #fff, #ffe5ec);
            border-radius: 50%; width: 70px; height: 70px;
            box-shadow: 0 8px 25px rgba(201, 24, 74, 0.4);
            display: flex; justify-content: center; align-items: center;
            font-size: 2.2rem; cursor: pointer; z-index: 9998;
            border: 2px solid white;
            animation: float 4s ease-in-out infinite; transition: transform 0.3s;
        }
        .letter-btn:hover { transform: scale(1.1); }
        
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(89, 13, 34, 0.6); z-index: 9999;
            backdrop-filter: blur(5px);
            justify-content: center; align-items: center;
        }
        .modal-content {
            background: #fff; padding: 40px; border-radius: 24px;
            max-width: 500px; width: 85%; max-height: 80vh; overflow-y: auto;
            position: relative; text-align: left;
            border-top: 10px solid var(--primary);
            box-shadow: 0 20px 60px rgba(0,0,0,0.4);
            animation: popOut 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .close-btn { position: absolute; top: 15px; right: 20px; font-size: 2rem; cursor: pointer; color: #aaa; transition: color 0.2s; }
        .close-btn:hover { color: var(--primary); }

        /* --- BUTTONS --- */
        button { font-family: 'Nunito', sans-serif; transition: all 0.3s ease; }
        
        .quiz-btn { 
            width: 100%; padding: 16px; margin: 10px 0; 
            border: 2px solid var(--secondary); background: white; 
            color: var(--text); border-radius: 16px; cursor: pointer; 
            font-weight: 700; font-size: 1rem;
        }
        .quiz-btn:hover { background: var(--secondary); color: white; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(255, 143, 171, 0.4); border-color: var(--secondary); }
        
        .yes-btn { 
            background: linear-gradient(45deg, #25D366, #128C7E); color: white; border: none; 
            padding: 16px 45px; border-radius: 50px; cursor: pointer; 
            font-weight: 800; font-size: 1.2rem; 
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.3); 
        }
        .yes-btn:hover { transform: translateY(-3px) scale(1.05); }

        .no-btn { 
            background: var(--primary); color: white; border: none; 
            padding: 16px 45px; border-radius: 50px; cursor: pointer; position: relative; 
            font-weight: 800; font-size: 1.2rem; 
            box-shadow: 0 8px 20px rgba(201, 24, 74, 0.3); 
        }
        
        .send-love-btn { 
            background: linear-gradient(45deg, var(--secondary), var(--primary)); 
            color: white; border: none; padding: 20px 50px; 
            border-radius: 50px; font-size: 1.3rem; font-weight: 800; 
            cursor: pointer; margin-top: 20px; animation: pulse 2s infinite; 
            box-shadow: 0 10px 25px rgba(201, 24, 74, 0.4); 
        }

        /* --- LIGHTBOX --- */
        #lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 10000; justify-content: center; align-items: center; padding: 20px; box-sizing: border-box; backdrop-filter: blur(10px); }
        #lightbox img { max-width: 100%; max-height: 90vh; border-radius: 10px; box-shadow: 0 0 30px rgba(0,0,0,0.5); animation: popOut 0.3s; }

        /* --- ANIMATIONS & UTILS --- */
        @keyframes shake { 0%, 100% { transform: rotate(0deg); } 10% { transform: rotate(-8deg); } 30% { transform: rotate(8deg); } 50% { transform: rotate(-8deg); } 70% { transform: rotate(8deg); } }
        @keyframes popOut { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        @keyframes typing { from { width: 0 } to { width: 100% } }
        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: var(--primary); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.15); } 100% { transform: scale(1); } }
        @keyframes spin { 100% { transform: rotate(360deg); } }
        
        .confetti { position: fixed; width: 12px; height: 12px; animation: fall linear forwards; z-index: 999; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }
        .click-heart { position: absolute; color: var(--primary); animation: flyAway 1s ease-out forwards; pointer-events: none; z-index: 100; text-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        @keyframes flyAway { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-100px) scale(1.5); opacity: 0; } }
        
        /* Scroll Reveal */
        .reveal { opacity: 0; transform: translateY(40px); transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        /* Timeline Fixes */
        .timeline { border-left: 4px solid var(--secondary); padding-left: 30px; text-align: left; margin: 30px 10px; }
        .timeline-item { margin-bottom: 40px; position: relative; }
        .timeline-item::before { 
            content: '‚ù§Ô∏è'; position: absolute; left: -41px; top: 0; 
            background: #fff0f3; font-size: 1.5rem; padding: 5px 0;
        }
        .t-date { font-weight: 800; color: var(--primary); font-family: 'Poppins', sans-serif; font-size: 1.1rem;}
        
        /* Music Player */
        .music-player { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 2rem; background: rgba(255,255,255,0.5); padding: 15px; border-radius: 50px; }
        .vinyl-icon { font-size: 3.5rem; animation: spin 3s linear infinite; animation-play-state: paused; filter: drop-shadow(0 5px 10px rgba(0,0,0,0.1)); }
    </style>
</head>
<body onclick="createHeart(event)">

    <div id="overlay" onclick="startExperience()">
        <div class="overlay-content">
            <h1>üíå</h1>
            <p>You have a special delivery...</p>
            <p style="font-size: 1rem; color: #888; font-weight: 400; text-transform: none;">(Tap to Open)</p>
        </div>
    </div>

    <div class="letter-btn" onclick="openLetter()">üì©</div>

    <div id="lightbox" onclick="closeLightbox()">
        <img id="lightbox-img" src="" alt="Full Size">
    </div>

    <div id="letterModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeLetter()">&times;</span>
            <h2 style="text-align: center; margin-bottom: 20px;">My Dearest...</h2>
            <p style="font-size: 1.1rem; line-height: 1.6;">Happy Valentine's Day!</p>
            <p style="font-size: 1.1rem; line-height: 1.6;">I know distance is tough. There are days when I just want to reach through the screen and hold your hand. But every day apart is just one day closer to June.</p>
            <p style="font-size: 1.1rem; line-height: 1.6;">Thank you for being my person. Thank you for the late-night calls and the laughter.</p>
            <p style="font-size: 1.1rem; line-height: 1.6;">I am counting down every single second until I see you.</p>
            <p style="text-align: right; font-weight: 800; color: var(--primary); margin-top: 20px;">- Er Zhi Zheng</p>
        </div>
    </div>

    <div class="container" id="main-content">
        <div class="typewriter">
            <h1>Happy Valentine's ‚ù§Ô∏è</h1>
        </div>
        <p style="font-weight: 600; color: #888; margin-top: 10px;">Malaysia (GMT+8) is ahead, but my heart is always with you.</p>

        <div class="flight-container reveal">
            <div style="font-size: 2.5rem;">üá¨üáß</div>
            <div class="flight-line"></div>
            <div class="plane">‚úàÔ∏è</div>
            <div style="font-size: 2.5rem;">üá≤üáæ</div>
        </div>

        <div class="card-box reveal">
            <div style="text-transform: uppercase; letter-spacing: 3px; font-size: 0.9rem; margin-bottom: 15px; font-weight: 800; color: #aaa;">Reunion Countdown</div>
            <div id="countdown" style="font-size: 2.5rem; font-weight: 800; color: var(--primary); font-family: 'Poppins', sans-serif;">Loading...</div>
        </div>

        <div class="timeline">
            <h3 style="color: var(--primary); margin-left: -10px;">Our Story</h3>
            <div class="timeline-item reveal">
                <div class="t-date">The Beginning</div>
                <div class="t-content">When we first met & everything changed.</div>
            </div>
            <div class="timeline-item reveal">
                <div class="t-date">2023 July 24</div>
                <div class="t-content">Official Date ‚ù§Ô∏è</div>
            </div>
            <div class="timeline-item reveal">
                <div class="t-date">June 7, 2026</div>
                <div class="t-content"><strong>Back in Malaysia!</strong> (Can't wait)</div>
            </div>
        </div>

        <div class="gallery">
            <div class="polaroid reveal" onclick="openLightbox('IMG_8702.jpg')">
                <img src="IMG_8702.jpg" alt="Us" onerror="this.src='https://via.placeholder.com/300x300/ffb3c1/590d22?text=Photo+1'">
            </div>
            <div class="polaroid reveal" onclick="openLightbox('IMG_8737.jpg')">
                <img src="IMG_8737.jpg" alt="Us" onerror="this.src='https://via.placeholder.com/300x300/ffb3c1/590d22?text=Photo+2'">
            </div>
            <div class="polaroid reveal" onclick="openLightbox('IMG_8289.jpg')">
                <img src="IMG_8289.jpg" alt="Us" onerror="this.src='https://via.placeholder.com/300x300/ffb3c1/590d22?text=Photo+3'">
            </div>
        </div>

        <div class="music-player reveal">
            <div class="vinyl-icon" id="vinyl">üíø</div>
            <div class="music-text">
                <div style="font-size: 0.8rem; color: #888;">NOW PLAYING</div>
                <div>Our Favorite Song</div>
            </div>
        </div>

        <div class="card-box reveal">
            <h3>Compatibility Test</h3>
            <p>Let's calculate our stats...</p>
            <div class="meter-container">
                <div id="love-bar" class="meter-fill"></div>
            </div>
            <div id="love-text" class="meter-text">Ready?</div>
            <button class="quiz-btn" style="background: var(--primary); color: white; border: none; margin-top: 15px;" onclick="runLoveMeter()">Start Scan</button>
        </div>

        <div style="margin: 60px 0;" class="reveal">
            <div id="gift-box-trigger" class="gift-box-container" onclick="openGift()">
                <div class="gift-box">üéÅ</div>
                <div class="click-text">Tap to Unwrap</div>
            </div>

            <div id="voucher-content" class="voucher-reveal">
                <h2 style="text-align: center; color: var(--primary); font-size: 2rem;">üéüÔ∏è GOLDEN TICKET üéüÔ∏è</h2>
                <p style="text-align: center; color: #666; font-style: italic;">This ticket grants you:</p>
                <div class="ticket-item">üõçÔ∏è <strong>1x Shopping Spree</strong><br><span style="font-size: 0.9em; color: var(--secondary); font-weight: 700;">(Target: Onitsuka Tigers)</span></div>
                <div class="ticket-item">üçΩÔ∏è <strong>1x Romantic Dinner</strong><br><span style="font-size: 0.9em; color: var(--secondary); font-weight: 700;">(Location: KL/Melaka)</span></div>
                <hr style="border: 0; border-top: 2px dashed #eee; margin: 20px 0;">
                <p style="text-align: center; font-size: 0.9em; color: #888;"><strong>Valid:</strong> June 2026<br><strong>Payer:</strong> Er Zhi Zheng</p>
            </div>
        </div>

        <div class="card-box reveal">
            <h3>How well do you know us?</h3>
            <p>Where are we going for our shopping date?</p>
            <button class="quiz-btn" onclick="alert('Nope! Try again üòú')">Pasar Malam</button>
            <button class="quiz-btn" onclick="correctAnswer()">Fine Dining</button>
            <button class="quiz-btn" onclick="alert('Maybe later... but not the main event!')">Cinema</button>
        </div>

        <div class="card-box reveal">
            <h3>Will you be my Valentine?</h3>
            <div style="display: flex; justify-content: center; gap: 20px; margin-top: 30px; height: 60px;">
                <button class="yes-btn" onclick="celebrateSuccess()">YES! ‚ù§Ô∏è</button>
                <button class="no-btn" id="noButton" onmouseover="moveButton()" onclick="moveButton()">NO</button>
            </div>
        </div>

        <div class="card-box reveal">
            <h3>Things I Miss About You</h3>
            <div id="note-text" style="font-size: 1.4rem; font-style: italic; min-height: 80px; color: var(--primary); margin: 20px 0; font-family: 'Sacramento', cursive; display: flex; align-items: center; justify-content: center;">Click below...</div>
            <button class="yes-btn" style="font-size: 1rem; padding: 12px 30px; background: var(--secondary);" onclick="newReason(event)">Show Me</button>
        </div>

        <div style="margin-bottom: 50px;">
            <p style="font-size: 1.2rem; font-weight: bold; color: var(--primary);">Miss me right now?</p>
            <button class="send-love-btn" onclick="sendSignal(event, this)">üì° Send Love to UK</button>
        </div>

        <audio id="bg-music" loop>
            <source src="song.mp3" type="audio/mpeg">
        </audio>

        <br><br>
    </div>

    <script>
        // --- 1. SCROLL REVEAL ---
        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach((el) => observer.observe(el));

        // --- 2. START EXPERIENCE ---
        function startExperience() {
            document.getElementById('overlay').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('overlay').style.display = 'none';
                document.getElementById('main-content').style.opacity = '1';
                
                // Play Music & Spin Vinyl
                const audio = document.getElementById('bg-music');
                audio.play().then(() => {
                    document.getElementById('vinyl').style.animationPlayState = 'running';
                }).catch(e => console.log("Audio failed"));
            }, 800);
        }

        // --- 3. TIMER ---
        const reunionDate = new Date(2026, 5, 7, 0, 0, 0).getTime();
        setInterval(() => {
            const now = new Date().getTime();
            const dist = reunionDate - now;
            if (dist < 0) { document.getElementById("countdown").innerHTML = "I'M HERE!"; return; }
            const d = Math.floor(dist / (1000 * 60 * 60 * 24));
            const h = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
            const s = Math.floor((dist % (1000 * 60)) / 1000);
            document.getElementById("countdown").innerHTML = `${d}d ${h}h ${m}m ${s}s`;
        }, 1000);

        // --- 4. LOVE METER ---
        function runLoveMeter() {
            const bar = document.getElementById('love-bar');
            const text = document.getElementById('love-text');
            bar.style.width = "0%"; text.innerText = "Calculating...";
            setTimeout(() => { bar.style.width = "50%"; text.innerText = "Scanning heart..."; }, 1000);
            setTimeout(() => { bar.style.width = "80%"; text.innerText = "Processing cuteness..."; }, 2000);
            setTimeout(() => { bar.style.width = "100%"; text.innerText = "100% Match! ‚ù§Ô∏è"; fireConfetti(); }, 3500);
            setTimeout(() => { text.innerText = "Wait... it's overflowing! ‚àû% Match! ü§Ø"; }, 5000);
        }

        // --- 5. LIGHTBOX ---
        function openLightbox(src) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox').style.display = 'flex';
        }
        function closeLightbox() { document.getElementById('lightbox').style.display = 'none'; }

        // --- 6. GIFT BOX ---
        function openGift() {
            document.getElementById('gift-box-trigger').style.transform = "scale(0) rotate(360deg)";
            setTimeout(() => {
                document.getElementById('gift-box-trigger').style.display = 'none';
                document.getElementById('voucher-content').style.display = 'block';
                fireConfetti();
            }, 300);
        }

        // --- 7. GAMES ---
        function correctAnswer() { alert("CORRECT! üéâ You know me so well."); fireConfetti(); }
        
        function moveButton() {
            const btn = document.getElementById('noButton');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            btn.style.position = 'fixed'; btn.style.left = x+'px'; btn.style.top = y+'px';
        }
        
        function celebrateSuccess() { alert("YAY! ‚ù§Ô∏è See you in June!"); fireConfetti(); }

        // --- 8. REASONS ---
        const reasons = [ "I miss your smile.", "I miss our dinner date.", "I miss eating Malaysian food with you.", "I miss holding your hand.", "I miss sleeping with you.", "I miss watching movie with you.", "I miss travelling with you.", "I miss staying beside you.", "I simply miss YOU." ];
        function newReason(e) {
            e.stopPropagation();
            const display = document.getElementById("note-text");
            display.style.opacity = 0;
            setTimeout(() => {
                display.innerText = reasons[Math.floor(Math.random() * reasons.length)];
                display.style.opacity = 1;
            }, 200);
        }

        // --- 9. SEND LOVE ---
        function sendSignal(e, btn) {
            e.stopPropagation();
            btn.innerText = "‚ù§Ô∏è Sending...";
            setTimeout(() => {
                btn.innerText = "Signal Received in UK! üá¨üáß";
                btn.style.background = "#25D366";
                alert("Signal sent! I'll feel it in the UK. ‚ù§Ô∏è");
                fireConfetti();
            }, 1500);
        }

        // --- 10. LETTER ---
        function openLetter() { document.getElementById('letterModal').style.display = 'flex'; }
        function closeLetter() { document.getElementById('letterModal').style.display = 'none'; }

        // --- UTILS ---
        function fireConfetti() {
            for(let i=0; i<50; i++) {
                const c = document.createElement('div');
                c.className = 'confetti';
                c.style.left = Math.random()*100+'vw';
                c.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 50%)`;
                c.style.animationDuration = Math.random()*3+2+'s';
                document.body.appendChild(c);
                setTimeout(() => c.remove(), 5000);
            }
        }
        function createHeart(e) {
            if(['BUTTON', 'IMG'].includes(e.target.tagName) || e.target.closest('.modal')) return;
            const h = document.createElement("div");
            h.className = "click-heart";
            h.innerText = ["‚ù§Ô∏è","üéà","‚ú®"][Math.floor(Math.random()*3)];
            h.style.left = e.clientX+'px'; h.style.top = e.clientY+'px';
            h.style.fontSize = Math.random()*2+1+'rem';
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 1000);
        }
    </script>
</body>
</html>
